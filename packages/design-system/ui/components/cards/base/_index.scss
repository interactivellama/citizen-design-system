// Copyright (c) 2015-present, salesforce.com, inc. All rights reserved
// Licensed under BSD 3-Clause - see LICENSE.txt or git.io/sfdc-license

/**
* The base card is used primarily on desktop within a &ldquo;wide&rdquo; column
* or &ldquo;main content area&rdquo;, which uses two-thirds of the viewport.
* In addition, the `.slds-card` class is used for layout purposes
* when a card has an adjacent card, those proceeding the initial will provide margin
* to give the cards spacing between each other.
*
* @summary Initializes card
*
* @name base
* @selector .slds-card
* @restrict article, div
* @variant
*/
.slds-card {
  position: relative;
  padding: 0;
  background: $cards-color-background;
  border: $border-width-thin solid $card-color-border;
  border-radius: $border-radius-medium;
  background-clip: padding-box;
  box-shadow: $card-shadow;

  // Adds spacing between cards
  + .slds-card {
    margin-top: $spacing-medium;
  }

  &__header,
  &__footer,
  &__body_inner,
  &__body--inner {
    padding-left: $card-spacing-small;
    padding-right: $card-spacing-small;

    @include mq-large-min {
      padding-left: $card-spacing-large;
      padding-right: $card-spacing-large;
    }
  }

  /**
   * Initializes card header
   *
   * @selector .slds-card__header
   * @restrict .slds-card div
   */
  &__header {
    padding: $card-header-spacing;
    margin: $card-header-margin;

    @include mq-large-min {
      padding-left: $card-spacing-large;
      padding-right: $card-spacing-large;
    }
  }

  &__header-link {
    color: inherit;
    font-weight: $card-font-weight;
  }

  /**
   * Initializes card body
   *
   * @selector .slds-card__body
   * @restrict .slds-card div
   */
  &__body {
    margin-bottom: $card-spacing-small;
  }

  &__body:empty,
  &__footer:empty {
    display: none;
  }

  /**
   * Initializes card footer
   *
   * @selector .slds-card__footer
   * @restrict .slds-card footer
   */
  &__footer {
    padding-top: $card-footer-spacing-top;
    padding-bottom: $card-footer-spacing-bottom;
    margin-top: $card-footer-margin;
    text-align: $card-footer-text-align;
    font-size: $font-size-text-small;
    border-top: $border-width-thin solid $card-footer-color-border;

    @include mq-large-min {
      margin-top: $spacing-large;
      margin-left: $spacing-large;
      margin-right: $spacing-large;
    }
  }

  &_narrow,
  &--narrow {

    .slds-card__header {
      padding-top: $spacing-small;
      margin-bottom: $spacing-small;

      @include mq-large-min {
        padding-top: $card-spacing-large;
        margin-bottom: $card-spacing-large;
      }
    }

    .slds-card__footer {
      padding-bottom: $spacing-small;

      @include mq-large-min {
        padding-bottom: $card-spacing-medium;
      }
    }
  }

  @include deprecate('4.0.0', 'Use a text-align--center utility class instead') {

    .slds-card_empty .slds-card__body,
    .slds-card--empty .slds-card__body {
      text-align: center;
    }
  }
}

/**
 * Use class if card consumes any form of a tile
 *
 * @selector .slds-card__tile
 * @restrict .slds-tile
 */
.slds-card__tile {
  margin-top: $spacing-x-small;
}

// These classes all give us the ability to add a class that doesn't exist in Communities and add the card look in different circumstances
.slds-card-wrapper,
.slds-card-wrapper_margin,
.slds-card-wrapper__bottom_joined {
  padding: $card-wrapper-spacing;
  background: $card-wrapper-color-background;
  border-radius: $border-radius-medium;
  background-clip: padding-box;
  box-shadow: $card-wrapper-shadow;

  .slds-card__header {
    padding-left: 0;
  }
}

.slds-card-wrapper__bottom_joined { // used to connect to page-headers like the table_joined does (kanban, etc)
  margin: $table-spacing; // This should use the same margin as the tables that are joined - sharing a token
  padding-top: 0;
  border-radius: 0 0 $border-radius-medium $border-radius-medium;
}

.slds-card-wrapper_margin {
  margin: $table-spacing; // This should use the same margin as the tables and page-headers - sharing a token
}

.slds-card,
.slds-card-wrapper {

  // Make cards inside cards or card wrappers invisible.
  .slds-card,
  .slds-card-wrapper {
    background: $card-wrapper-color-background;
    border: none;
    border-radius: initial;
    box-shadow: none;
  }
}
